(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cacf1924"],{"06e1":function(t,s,e){"use strict";e.r(s);var i=e("8194"),a={name:"MyTrack",data(){return{list:[],spinShow:!1,params:{pageNumber:1,pageSize:30,order:"desc",sort:"updateTime"},total:0}},mounted(){this.getList()},methods:{goodsDetail(t,s){t=this.$router.resolve({path:"/goodsDetail",query:{skuId:t,goodsId:s}});window.open(t.href,"_blank")},shopPage(t){t=this.$router.resolve({path:"/Merchant",query:{id:t}});window.open(t.href,"_blank")},clearAll(){this.$Modal.confirm({title:"删除",content:"<p>确定要删除全部足迹吗？</p>",onOk:()=>{Object(i.m)().then(t=>{t.success&&(this.$Message.success("删除成功"),this.getList())})},onCancel:()=>{}})},clearById(t){Object(i.n)(t).then(t=>{t.success&&(this.$Message.success("删除成功"),this.getList())})},changePageNum(t){this.params.pageNumber=t,this.getList()},changePageSize(t){this.params.pageNumber=1,this.params.pageSize=t,this.getList()},getList(){this.spinShow=!0,Object(i.Q)(this.params).then(t=>{this.spinShow=!1,t.success&&t.result.records.length?(this.list=t.result.records.filter(t=>null!=t),this.total=t.result.total):this.list=[]})}}},e=(e("b79f"),e("2877")),e=Object(e.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("card",{attrs:{_Title:"我的足迹",_Size:16}}),i("Button",{staticClass:"del-btn",attrs:{type:"primary"},on:{click:e.clearAll}},[e._v("删除全部")]),0===e.list.length?i("empty"):i("ul",{staticClass:"track-list"},e._l(e.list,function(s,t){return i("li",{key:t,on:{click:function(t){return e.goodsDetail(s.id,s.goodsId)}}},[i("img",{attrs:{src:s.thumbnail,alt:s.thumbnail,width:"200",height:"200"}}),i("p",{staticClass:"ellipsis"},[e._v(e._s(s.goodsName))]),i("p",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e._f("unitPrice")(s.price,"￥"))+" "),i("span",{staticClass:"right-price"},[e._v("+"+e._s(e._f("unitPrice")(s.price,"$")))]),i("TokenIcon",{staticStyle:{"margin-top":"-2px"}})],1),i("span",{staticClass:"del-icon",on:{click:function(t){return t.stopPropagation(),e.clearById(s.goodsId)}}},[i("Icon",{attrs:{type:"md-trash"}})],1)])}),0),i("div",{staticClass:"page-size"},[i("Page",{attrs:{total:e.total,"page-size":e.params.pageSize,"show-sizer":""},on:{"on-change":e.changePageNum,"on-page-size-change":e.changePageSize}})],1)],1)},[],!1,null,"5016bd26",null);s.default=e.exports},"35b9":function(t,s,e){},b79f:function(t,s,e){"use strict";e("35b9")}}]);