(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7249527e"],{7746:function(t,e,a){"use strict";a("9d20")},"9d20":function(t,e,a){},d259:function(t,e,a){"use strict";a.r(e);var s=a("3951"),r=a("5945"),i=a("7dfd"),l=a("2f94"),s={name:"AddAddress",data(){return{formData:{isDefault:!1},ruleInline:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"change"}],detail:[{required:!0,message:"请输入详细地址",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号码"},{pattern:i.mobile,trigger:"blur",message:"请输入正确的手机号"}]},loading:!1,mapMsg:{}}},methods:{save(){this.$refs.form.validate(t=>{if(t){const t=JSON.parse(JSON.stringify(this.formData));t.consigneeAddressPath=t.address.replace(/\s/g,","),delete t.address,this.loading=!0,(this.$route.query.id?Object(l.b)(t).then(t=>{t.success&&(this.loading=!1,this.$router.push("/home/MyAddress"))}):Object(l.f)(t).then(t=>{t.success&&(this.loading=!1,this.$router.push("/home/MyAddress"))})).catch(()=>{this.loading=!1})}})},getAddrById(t){Object(l.c)(t).then(t=>{if(t.success){const e=t.result;e.address=t.result.consigneeAddressPath.replace(/,/g," "),this.formData=e}})},getAddress(t){this.mapMsg=t,this.$set(this.formData,"address",t.addr),this.$set(this.formData,"consigneeAddressIdPath",t.addrId),this.$set(this.formData,"detail",t.detail),this.formData.lat=t.position.lat,this.formData.lon=t.position.lng}},mounted(){var t=this.$route.query.id;t&&this.getAddrById(t)},components:{card:s.a,liliMap:r.a}},r=(a("7746"),a("2877")),a=Object(r.a)(s,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",[t("card",{attrs:{_Title:"收货地址"}}),t("div",{staticClass:"add-box"},[t("Form",{ref:"form",attrs:{model:e.formData,"label-position":"left","label-width":100,rules:e.ruleInline}},[t("FormItem",{attrs:{label:"收件人",prop:"name"}},[t("i-input",{staticStyle:{width:"600px"},attrs:{placeholder:"请输入收件人姓名"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),t("FormItem",{attrs:{label:"收件地区",prop:"address"}},[t("i-input",{staticStyle:{width:"600px"},attrs:{disabled:"",placeholder:"请选择收货地址"},model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}}),t("Button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.$refs.map.showMap=!0}}},[e._v("选择")])],1),t("FormItem",{attrs:{label:"详细地址",prop:"detail"}},[t("i-input",{staticStyle:{width:"600px"},attrs:{placeholder:"请输入详细地址"},model:{value:e.formData.detail,callback:function(t){e.$set(e.formData,"detail",t)},expression:"formData.detail"}})],1),t("FormItem",{attrs:{label:"手机号码",prop:"mobile"}},[t("i-input",{staticStyle:{width:"600px"},attrs:{placeholder:"请输入收件人手机号"},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),t("FormItem",{attrs:{label:"地址别名"}},[t("i-input",{staticStyle:{width:"600px"},attrs:{length:"",maxlength:4,placeholder:"请输入地址别名，例如公司"},model:{value:e.formData.alias,callback:function(t){e.$set(e.formData,"alias",t)},expression:"formData.alias"}})],1),t("FormItem",{attrs:{label:"默认地址"}},[t("i-switch",{model:{value:e.formData.isDefault,callback:function(t){e.$set(e.formData,"isDefault",t)},expression:"formData.isDefault"}})],1)],1)],1),t("div",{staticClass:"mt_20"},[t("Button",{staticClass:"mr_10",attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("保存收货地址")]),t("Button",{on:{click:function(t){return e.$router.back()}}},[e._v("返回")])],1),t("lili-map",{ref:"map",on:{getAddress:e.getAddress}})],1)},[],!1,null,"581e157e",null);e.default=a.exports}}]);